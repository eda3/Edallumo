---
description:
globs:
alwaysApply: false
---
# framesコマンド仕様

[src/commands/frames.rs](mdc:src/commands/frames.rs)で実装されているframesコマンドは、キャラクターの技のフレームデータを表示するためのコマンドです。

## 構文

```
/frames <キャラクター名> <技名>
```

エイリアス: `/f`

## 引数

- `character`: キャラクター名またはニックネーム
- `character_move`: 技名、入力コマンド、またはエイリアス

## 処理フロー

1. 入力パラメータの検証 (`check::adaptive_check`)
2. キャラクター名の解決 (`find::find_character`)
3. キャラクターのJSONファイルを読み込み
4. 対象技の検索 (`find::find_move_index`)
5. 画像ファイルの読み込み
6. 結果をDiscordの埋め込みメッセージとして整形・送信

## 表示データ

フレームデータには以下の情報が含まれます：

- ダメージ (damage)
- ガード種別 (guard)
- 無敵時間 (invincibility)
- 発生フレーム (startup)
- 持続フレーム (active)
- 硬直フレーム (recovery)
- ヒット時効果 (hit)
- ガード時効果 (block)
- 攻撃レベル (level)
- リスクゲージ増加量 (riscgain)
- 補正値 (scaling)
- カウンター効果 (counter)

## 表示例

```
Move: 5P
ダメージ: 28
ガード: High
無敵: -
発生: 5
持続: 2
硬直: 9
ヒット時: +4
ガード時: +1
攻撃レベル: 0
リスクゲージ: +8
補正: 80%
カウンター: レベル2カウンター
```

## エラーハンドリング

- キャラクターが見つからない場合はエラーメッセージを表示
- 技が見つからない場合はエラーメッセージを表示し、`/moves`コマンドの使用を促す
- ファイル読み込みエラーは適切に処理

## デバッグ機能

実行中のコマンド引数やファイル操作のログをコンソールに出力。以下のような色分けを使用：
- 成功メッセージ: 緑色 (green)
- エラーメッセージ: 赤色 (red)
- 警告メッセージ: 紫色 (purple)
